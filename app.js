const scene=new THREE.Scene;scene.background=new THREE.Color(0);const marsGeometry=new THREE.SphereGeometry(.5,32,32),marsMaterial=new THREE.MeshStandardMaterial({color:16711680}),marsMesh=new THREE.Mesh(marsGeometry,marsMaterial);scene.add(marsMesh);const starGeometry=new THREE.BufferGeometry,starVertices=[];for(let i=0;i<5e3;i++){let e=(Math.random()-.5)*2e3,t=(Math.random()-.5)*2e3,r=(Math.random()-.5)*2e3;starVertices.push(e,t,r)}starGeometry.setAttribute("position",new THREE.Float32BufferAttribute(starVertices,3));const starMaterial=new THREE.PointsMaterial({color:16777215,size:1}),stars=new THREE.Points(starGeometry,starMaterial);function createShootingStar(){let e=new THREE.BufferGeometry;e.setAttribute("position",new THREE.Float32BufferAttribute([0,0,0,0,0,0],3));let t=new THREE.LineBasicMaterial({color:16777215}),r=new THREE.Line(e,t);return r.position.set((Math.random()-.5)*10,(Math.random()-.5)*10,(Math.random()-.5)*10),r.direction=new THREE.Vector3((Math.random()-.5)*.1,(Math.random()-.5)*.1,(Math.random()-.5)*.1),scene.add(r),{star:r,direction:r.direction}}scene.add(stars);const shootingStars=[];for(let i=0;i<5;i++)shootingStars.push(createShootingStar());const light=new THREE.PointLight(16777215,1);light.position.set(0,5,5),scene.add(light);const ambientLight=new THREE.AmbientLight(4210752);scene.add(ambientLight);const camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3);camera.position.z=2;const webgl=document.querySelector(".webgl"),renderer=new THREE.WebGLRenderer;renderer.setSize(webgl.clientWidth,window.innerHeight),webgl.appendChild(renderer.domElement);const controls=new THREE.OrbitControls(camera,renderer.domElement);function animate(){requestAnimationFrame(animate);for(let e=0;e<shootingStars.length;e++)shootingStars[e].star.geometry.attributes.position.array[3]=shootingStars[e].star.position.x,shootingStars[e].star.geometry.attributes.position.array[4]=shootingStars[e].star.position.y,shootingStars[e].star.geometry.attributes.position.array[5]=shootingStars[e].star.position.z,shootingStars[e].star.position.add(shootingStars[e].direction),shootingStars[e].star.geometry.attributes.position.needsUpdate=!0,shootingStars[e].star.position.length()>10&&(scene.remove(shootingStars[e].star),shootingStars[e]=createShootingStar());renderer.render(scene,camera)}animate(),window.addEventListener("resize",()=>{let e=webgl.clientWidth,t=window.innerHeight;camera.aspect=e/t,camera.updateProjectionMatrix(),renderer.setSize(e,t)}),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".word span"),t=[...e].sort(()=>Math.random()-.5),r=0;t.forEach((e,t)=>{setTimeout(()=>{e.classList.add("animate")},r+=1e3*Math.random()+1500)})});let audioCtx,filter,source,isWebAudioSupported=!0;$(document).ready(function(){let e=document.getElementById("song");function t(){audioCtx||((filter=(audioCtx=new(window.AudioContext||window.webkitAudioContext)).createBiquadFilter()).type="lowpass",filter.frequency.value=22050,filter.connect(audioCtx.destination))}$(".enter").click(function(){$("#playButton").hide(),$("#pauseButton").show(),t(),e.paused&&e.play().then(()=>{isWebAudioSupported&&!source&&(source=audioCtx.createMediaElementSource(e)).connect(filter)}).catch(e=>{console.error("Playback error:",e),isWebAudioSupported=!1}),$("html, body").removeClass("no-scroll"),$(".start").addClass("hide-start"),$("html, body").animate({scrollTop:0},"slow"),setTimeout(function(){$(".start").addClass("display-none")},1500);let r=webgl.clientWidth,o=window.innerHeight;camera.aspect=r/o,camera.updateProjectionMatrix(),renderer.setSize(r,o)}),$("#playButton").click(function(){$("#playButton").hide(),$("#pauseButton").show(),t(),e.paused&&e.play().then(()=>{isWebAudioSupported&&!source&&(source=audioCtx.createMediaElementSource(e)).connect(filter)}).catch(e=>{console.error("Playback error:",e),isWebAudioSupported=!1})}),$("#pauseButton").click(function(){e.pause(),$("#playButton").show(),$("#pauseButton").hide()})});